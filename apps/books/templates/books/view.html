{# apps/books/templates/books/view.html #}
{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="max-w-[60%] mx-auto mt-6 bg-white shadow rounded-xl p-4">

<!-- Header -->
<div class="mb-4">
    <h2 class="text-lg font-semibold border-b-2 border-gray-300 pb-1 inline-block">
        Book Details
    </h2>
</div>

<!-- Details -->
<div class="bg-white rounded shadow overflow-hidden">
    <dl>

        <div class="flex px-4 py-2 border-b">
            <dt class="w-40 font-semibold text-gray-500">ID</dt>
            <dd>{{ book.id }}</dd>
        </div>

        <div class="flex px-4 py-2 border-b">
            <dt class="w-40 font-semibold text-gray-500">Published Date</dt>
            <dd>{{ book.published_date }}</dd>
        </div>

        <div class="flex px-4 py-2 border-b">
            <dt class="w-40 font-semibold text-gray-500">Title</dt>
            <dd>{{ book.title }}</dd>
        </div>

        <div class="flex px-4 py-2 border-b">
            <dt class="w-40 font-semibold text-gray-500">Hepburn</dt>
            <dd>{{ book.hepburn }}</dd>
        </div>

        <div class="flex px-4 py-2 border-b">
            <dt class="w-40 font-semibold text-gray-500">Author</dt>
            <dd>{{ book.author }}</dd>
        </div>

        <div class="flex px-4 py-2 border-b">
            <dt class="w-40 font-semibold text-gray-500">Release</dt>
            <dd>{{ book.release }}</dd>
        </div>

        <div class="flex px-4 py-2 border-b">
            <dt class="w-40 font-semibold text-gray-500">URL</dt>
            <dd>
                <a href="{{ book.url }}" target="_blank" class="text-blue-500 hover:underline">
                    {{ book.url }}
                </a>
            </dd>
        </div>

        <div class="flex px-4 py-2 border-b">
            <dt class="w-40 font-semibold text-gray-500">Category</dt>
            <dd>{{ book.category_name }}</dd>
        </div>

        <div class="px-4 py-2">
            <dt class="font-semibold text-gray-500 mb-1">Summary</dt>
            <dd class="text-gray-700 whitespace-pre-line">
                {{ book.summary or "â€”" }}
            </dd>
        </div>

    </dl>
</div>

<!-- Actions -->
<div class="mt-4 flex gap-2">
    <a href="{{ url_for('books.edit', id=book.id) }}"
       class="bg-yellow-200 hover:bg-yellow-300 text-xs px-2 py-1 rounded
       {% if session.username != 'admin' %} cursor-not-allowed opacity-50 {% endif %}"
       {% if session.username != 'admin' %} onclick="event.preventDefault();" {% endif %}>
        Edit
    </a>

    <a href="{{ url_for('books.list') }}"
       class="bg-gray-200 hover:bg-gray-300 text-xs px-2 py-1 rounded">
        Back
    </a>
</div>

</div>
{% endblock %}
